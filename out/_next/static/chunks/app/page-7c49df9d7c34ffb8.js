(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8832:function(e,a,l){Promise.resolve().then(l.bind(l,2510))},2510:function(e,a,l){"use strict";l.r(a),l.d(a,{default:function(){return Z}});var t=l(7437),n=l(2265),r=l(1144),s=l(5489),i=l(6223),c=l(8807);let m=[{type:0,name:"愚者"},{type:1,name:"魔术师"},{type:2,name:"女教皇"},{type:3,name:"女皇"},{type:4,name:"皇帝"},{type:5,name:"教皇"},{type:6,name:"恋爱"},{type:7,name:"战车"},{type:8,name:"正义"},{type:9,name:"隐士"},{type:10,name:"命运"},{type:11,name:"力量"},{type:12,name:"倒悬者"},{type:13,name:"死神"},{type:14,name:"节制"},{type:15,name:"恶魔"},{type:16,name:"塔"},{type:17,name:"星"},{type:18,name:"月"},{type:19,name:"太阳"},{type:20,name:"审判"},{type:21,name:"信念"},{type:22,name:"顾问官"}],p=[{type:101,name:"摄政王"},{type:102,name:"王后的项链"},{type:103,name:"命运之石"},{type:104,name:"光之山"},{type:105,name:"奥尔洛夫"},{type:106,name:"大帝的护符"},{type:107,name:"希望钻石"},{type:108,name:"水晶骷髅"},{type:109,name:"王者金属"}],o=[[-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],[0,0,13,18,12,14,9,7,18,17,2,21,13,16,11,5,14,3,1,8,8,19,22,5],[1,13,1,14,8,21,13,15,2,4,6,8,0,3,9,7,5,14,2,6,5,11,11,18],[2,18,14,2,4,3,1,10,5,13,14,1,15,13,1,15,18,12,9,5,7,8,8,21],[3,12,8,4,3,8,0,20,17,6,11,9,21,2,0,21,19,4,6,10,16,4,1,12],[4,14,21,3,8,4,10,0,21,7,5,19,16,15,9,15,8,17,6,16,20,2,2,6],[5,9,13,1,0,10,5,11,17,12,22,8,0,19,7,13,12,20,16,2,6,21,3,8],[6,7,15,10,20,0,11,6,14,20,7,11,13,22,14,11,18,3,21,1,3,12,16,16],[7,18,2,5,17,21,17,14,7,18,15,22,9,0,15,11,14,10,18,6,2,-1,6,19],[8,17,4,13,6,7,12,20,18,8,1,4,22,6,0,4,0,19,3,15,12,-1,12,4],[9,2,6,14,11,5,22,7,15,1,9,17,5,17,11,11,2,20,11,2,15,4,20,21],[10,21,8,1,9,19,8,11,22,4,17,10,21,4,17,3,5,12,15,19,17,16,22,20],[11,13,0,15,21,16,0,13,9,22,5,21,11,14,5,7,13,21,18,1,18,-1,17,3],[12,16,3,13,2,15,19,22,0,6,17,4,14,12,18,13,10,9,8,22,5,17,15,17],[13,11,9,1,0,9,7,14,15,0,11,17,5,18,13,12,7,19,22,5,2,-1,0,1],[14,5,7,15,21,15,13,11,11,4,11,3,7,13,12,14,0,10,19,22,1,9,9,0],[15,14,5,18,19,8,12,18,14,0,2,5,13,10,7,0,15,1,11,7,9,6,7,7],[16,3,14,12,4,17,20,3,10,19,20,12,21,9,19,10,1,16,22,9,4,18,13,13],[17,1,2,9,6,6,16,21,18,3,11,15,18,8,22,19,11,22,17,14,20,10,14,19],[18,8,6,5,10,16,2,1,6,15,2,19,1,22,5,22,7,9,14,18,3,0,19,14],[19,8,5,7,16,20,6,3,2,12,15,17,18,5,2,1,9,4,20,3,19,13,4,10],[20,19,11,8,4,2,21,12,-1,-1,4,16,-1,17,-1,9,6,18,10,0,13,20,10,15],[21,22,11,8,1,2,3,16,6,12,20,22,17,15,0,9,7,13,14,19,4,10,21,2],[22,5,18,21,12,6,8,16,19,4,21,20,3,17,1,0,7,13,19,14,10,15,2,22]],f=[[-1,0,1,2,3,4,5,6,7,8,9,10,11,23,13,14,15,16,17,18,19,20,21,22],[101,-1,1,-1,-1,2,1,-1,1,1,2,1,-1,1,1,-1,-2,-1,1,-1,1,-1,-1,1],[102,1,-1,1,2,-1,-1,1,-1,-1,-1,-1,1,1,-1,1,1,-2,-1,2,-1,-1,1,1],[103,-1,2,-1,-1,1,1,-1,1,-1,-1,2,1,-1,1,-1,-1,1,1,-2,-1,1,1,1],[104,1,-1,2,1,-1,-2,1,-1,2,1,-1,1,-1,1,-1,1,1,-1,-1,1,-1,1,1],[105,-1,1,1,1,-1,-1,-1,1,-2,-1,1,2,1,-1,1,-1,-1,2,1,1,-1,-1,-1],[106,-1,1,-1,1,1,-1,-1,-2,1,1,-1,1,2,-1,1,2,1,-1,-1,-1,1,1,1],[107,1,1,1,-1,1,-1,-2,-1,-1,1,1,-1,-1,2,-1,-1,-1,1,-1,2,-1,1,1],[108,2,1,1,1,-1,-1,1,-1,1,-2,-1,-1,-1,1,2,-1,-1,1,-1,1,-1,1,1],[109,1,-2,1,1,-1,2,-1,-1,1,-1,1,-1,1,1,-1,1,-1,1,-1,1,1,2,1]];function x(e,a){let l=o[0].indexOf(e),t=o.map(e=>e[0]).indexOf(a);if(-1===l||-1===t)throw Error("Invalid type");return o[l][t]}function u(e){let a=m.find(a=>a.type===e);return a?a.name:"未知"}var d=l(6480),h=l.n(d),y=l(1367);function g(){for(var e=arguments.length,a=Array(e),l=0;l<e;l++)a[l]=arguments[l];return(0,y.m6)(h()(a))}function v(e){let{className:a}=e,[l,p]=(0,n.useState)([]),[o,f]=(0,n.useState)(),[d,h]=(0,n.useState)([]),y=void 0===o||l.length<1;return(0,t.jsxs)("div",{className:g("flex flex-col gap-8 max-w-2xl px-4 w-full py-4",a),children:[(0,t.jsx)(r.Z,{title:"二体处刑（合成）计算器",className:"w-full",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{children:"选择基础素材（1-6个）："}),(0,t.jsx)(s.Z,{mode:"multiple",placeholder:"请选择基础素材",value:l,onChange:p,maxTagCount:6,options:m.map(e=>({label:"".concat(e.name),value:e.type})),className:"w-full",maxTagTextLength:10})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{children:"选择目标结果："}),(0,t.jsx)(s.Z,{placeholder:"请选择目标塔罗牌",value:o,onChange:f,options:m.map(e=>({label:"".concat(e.name),value:e.type})),className:"w-full"})]}),(0,t.jsx)(i.ZP,{type:"primary",onClick:()=>{y||h(function(e,a){let l=[],t=new Set,n=e=>{let a=e.map(e=>"".concat(e.material1,",").concat(e.material2)).join("|");return!!t.has(a)||(t.add(a),!1)},r=(e,t,n)=>{let r=m.map(e=>e.type).filter(l=>!n.has(l)&&x(l,e)===a);if(0===r.length)return!1;for(let s of r){if(n.size>=2)break;let r={material1:e,material2:s,result:a};l.push({steps:[...t,r],extraMaterials:[...Array.from(n),s]})}return!0},s=(e,l,t)=>{for(let n of function(e,a){let l=[...e];for(let e=l.length-1;e>0;e--){let a=Math.floor(Math.random()*(e+1));[l[e],l[a]]=[l[a],l[e]]}return l.slice(0,Math.min(3,l.length))}(m.map(e=>e.type).filter(l=>l!==e&&l!==a&&-1!==x(l,e)),0)){let a=x(e,n);i([a],[...l,{material1:e,material2:n,result:a}],new Set([...Array.from(t),n]))}},i=(e,t,c)=>{var m,p,o;if(m=l.length,p=t.length,o=c.size,!(m>=10)&&!(p>10)&&!(o>2)&&!n(t)){if(1===e.length){let n=e[0];if(n===a){!function(e,a,l){e.push({steps:a,extraMaterials:Array.from(l)})}(l,t,c);return}r(n,t,c)||s(n,t,c);return}!function(e,a,l,t){for(let n=0;n<e.length-1;n++)for(let r=n+1;r<e.length;r++){let s=x(e[n],e[r]);if(-1===s)continue;let i={material1:e[n],material2:e[r],result:s};t([...e.filter((e,a)=>a!==n&&a!==r),s],[...a,i],l)}}(e,t,c,i)}};return i(e,[],new Set),l.sort((e,a)=>e.extraMaterials.length-a.extraMaterials.length)}(l,o))},disabled:y||l.length>5,className:"mt-4",children:"计算合成路径"})]})}),(0,t.jsx)(r.Z,{title:"合成路径",className:"w-full",children:d.length>0?(0,t.jsx)("div",{className:"flex flex-col gap-4",children:d.map((e,a)=>(0,t.jsx)(r.Z,{type:"inner",title:"方案 ".concat(a+1),children:(0,t.jsxs)("div",{className:"whitespace-pre-wrap",children:[e.steps.map((e,a)=>(0,t.jsxs)("div",{children:["步骤 ",a+1,": ",u(e.material1)," +"," ",u(e.material2)," ="," ",u(e.result)]},a)),e.extraMaterials.length>0&&(0,t.jsxs)("div",{className:"mt-2",children:["额外材料:"," ",e.extraMaterials.map(e=>{var a;return(null===(a=m.find(a=>a.type===e))||void 0===a?void 0:a.name)||e}).join(", ")]})]})},a))}):(0,t.jsx)(c.Z,{description:"暂无合成路径"})})]})}var j=l(1773),N=l(2106);function w(e){let{className:a}=e,[l,o]=(0,n.useState)(),[x,u]=(0,n.useState)(!0),[d,h]=(0,n.useState)([]);return(0,t.jsxs)("div",{className:g("flex flex-col gap-8 max-w-2xl px-4 w-full py-4",a),children:[(0,t.jsx)(r.Z,{title:"宝魔升降级计算器",className:"w-full",children:(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{children:"选择当前塔罗牌："}),(0,t.jsx)(s.Z,{placeholder:"请选择塔罗牌",value:l,onChange:o,options:m.map(e=>({label:e.name,value:e.type})),className:"w-full"})]}),(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{children:"选择变化方向："}),(0,t.jsxs)(j.ZP.Group,{value:x,onChange:e=>u(e.target.value),className:"flex gap-4",children:[(0,t.jsx)(j.ZP,{value:!0,children:"升级"}),(0,t.jsx)(j.ZP,{value:!1,children:"降级"})]})]}),(0,t.jsxs)(i.ZP,{type:"primary",onClick:()=>{void 0!==l&&h(function(e,a){let l=[],t=f[0].indexOf(e);if(-1===t)return l;for(let e=1;e<f.length;e++){let n=f[e][0],r=f[e][t];a&&r>0?l.push({specialArcana:n,levelChange:r}):!a&&r<0&&l.push({specialArcana:n,levelChange:r})}return l.sort((e,a)=>e.specialArcana-a.specialArcana),l}(l,x))},disabled:void 0===l,className:"mt-4",children:["计算",x?"升级":"降级","方案"]})]})}),(0,t.jsx)(r.Z,{title:"宝魔升降级方案",className:"w-full",children:d.length>0?(0,t.jsx)(N.Z,{columns:[{title:"序号",key:"index",render:(e,a,l)=>l+1,width:80},{title:"宝魔",dataIndex:"specialArcana",key:"specialArcana",render:e=>{var a;return(null===(a=p.find(a=>a.type===e))||void 0===a?void 0:a.name)||"未知"}},{title:"变化幅度",dataIndex:"levelChange",key:"levelChange",render:e=>(0,t.jsxs)("span",{className:e>0?"text-green-600":"text-red-600",children:[e>0?"+":"",e," 级"]})}],dataSource:d,pagination:!1,rowKey:e=>e.specialArcana,size:"small"}):(0,t.jsx)(c.Z,{description:"暂无升降级方案"})})]})}function Z(){return(0,t.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center",children:(0,t.jsxs)("div",{className:"flex flex-col gap-8 lg:flex-row w-full items-center justify-center ",children:[(0,t.jsx)(v,{className:"lg:max-h-screen overflow-y-auto flex-1"}),(0,t.jsx)(w,{className:"lg:max-h-screen overflow-y-auto flex-1"})]})})}}},function(e){e.O(0,[358,971,69,744],function(){return e(e.s=8832)}),_N_E=e.O()}]);